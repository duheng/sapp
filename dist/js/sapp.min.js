!function(){function e(e,n){for(var a=!1,r=0,s=m.length;s>r;r++)if(m[r].src==e){a=m[r];break}if(!a){var o=m.length;a={src:e,id:o,state:0,callback:n},m[o]=a,a=null;var c=i.createElement("script");return c.setAttribute("data-order",o),c.type=g?"text/javascript":"text/cache",c.async=!1,c.src=e,c.onload=t,v.appendChild(c),c}return 2==a.state&&n?(n(),!1):void 0}function t(){var e=this.getAttribute("data-order");m[e].state=1,m.every(function(e,t){switch(e.state){case 1:if(g){var n=m[t];n.state=2,"callback"in n&&n.callback(),delete m[t]}else{var a=i.querySelector('script[data-order="'+t+'"]');if(a){var r=a.cloneNode();r.type="text/javascript",r.onload=function(){var e=this.getAttribute("data-order"),t=m[e];t.state=2,"callback"in t&&t.callback(),delete m.id},v.replaceChild(r,a),a=null}}break;case 0:return!1}return!0})}var n,i,a,r,s,o,c,l,u,p,f,d,h;n=window,i=document,a=navigator,r=a.userAgent,o={G_IMGTRUESRCATTR:null,G_AJAXTIMEOUT:60,G_CACHETIMEOUT:300,G_PAGETRANS:3},s={version:"1.0",sign:"sapp_awen",Config:o,Langs:{noconfig:"没有配置文件",nomain:"请确定首页",nopage:"没有页面",offline:"应用需要连接网络，请检查您的网络设置。",configerr:"缺少必要的配置信息，请检查",codeerror:"发生代码错误，请检查",config:"解析配置文件...",coreinit:"初始化引擎...",coreok:"初始化引擎...success",tplinit:"初始化模板...",tplok:"初始化模板...success",appok:"app初始化成功...success",loading:"努力加载中...请不要着急...",ajaxtimeout:"网络数据请求超时，请重试",btn_confirm:"确认",btn_cancle:"取消",data_error:"数据格式有误，请重试"},throwError:function(){},log:function(e){console.log(e)},Plus:{}},s.go=function(e){e?(s.Util.extend(this.Config,e),s.Plus.FSM.create("app",{states:["coreok","tplinit","tplok","initapp","appok"],change:function(e,t){switch(t){case"coreok":s.Plus.FSM.change("app","tplinit");break;case"tplinit":var n=s.Config.Tpls;n?(h=n.length||0,$.each(n,function(e,t){$.get(t,function(e){var t=i.createElement("div");t.className="sapp_tpl_wrap",t.innerHTML=e,i.body.appendChild(t),--h<=0&&s.Plus.FSM.change("app","tplok")})})):s.Plus.FSM.change("app","tplok");break;case"tplok":s.Plus.FSM.change("app","initapp");break;case"initapp":s.Plus.slazyload.init({attr:s.Config.G_IMGTRUESRCATTR}),s.Page.setTrans(s.Config.G_PAGETRANS);var a=s.Config.Pages;if(a){for(var r in a){s.Config.G_MAIN||(s.Config.G_MAIN=r);var o=a[r];s.Page.create(r,o)}this.change("appok")}else s.throwError(s.Langs.nopage);break;case"appok":s.UI.Dialog.hide(),s.Page.show(null,null,!1)}}}),s.Plus.FSM.change("app","coreok")):this.UI.Dialog.show(this.Langs.noconfig,{type:d.BTN_NONE,backcancle:!1})},c=/WebKit\/([\d.]+)/i,f=location.pathname.replace(/\/[^\/]*$/,"")+"/",l={Android:/(Android)[\s\/]+([\d.]+)/,ipad:/(iPad).*OS\s([\d_]+)/,iphone:/(iPhone\sOS)\s([\d_]+)/,Blackberry:/(BlackBerry|BB10|Playbook).*Version\/([\d.]+)/,FirefoxOS:/(Mozilla).*Mobile[^\/]*\/([\d\.]*)/,webOS:/(webOS|hpwOS)[\s\/]([\d.]+)/},s.Env={platform:a.platform,mobile:!1,os:null,hasTouch:"ontouchstart"in n,isWebkit:c.test(r),screen:{width:n.innerWidth,height:n.innerHeight},appPath:f};for(u in l)if(p=r.match(l[u])){s.Env.os={name:p[1],version:p[2]};break}s.Env.os&&(s.Env.mobile=!0),d={BTN_CONFIRM:1,BTN_ALERT:2,BTN_NONE:0,init:null,show:function(e,t){var n=this.init,a=this.BTN_ALERT;if(!n){var r,o,c,l,u,p,f,d;r=i.createDocumentFragment(),o=r.appendChild(i.createElement("div")),o.className="sapp_dialog_wrap",c=o.appendChild(i.createElement("div")),c.className="sapp_dialog_box",l=c.appendChild(i.createElement("div")),u=c.appendChild(i.createElement("div")),p=u.appendChild(i.createElement("input")),p.className="sapp_btn_confirm",p.type="button",p.value=s.Langs.btn_confirm,f=u.appendChild(i.createElement("input")),f.className="sapp_btn_cancle",f.type="button",f.value=s.Langs.btn_cancle,d=function(e){var t=!1,n=!1;if(this==e.target){switch(e.target.className){case"sapp_btn_confirm":t=s.UI.Dialog.init.fn_confirm,n=!0;break;case"sapp_btn_cancle":t=s.UI.Dialog.init.fn_cancle,n=!0;break;case"sapp_dialog_box":case"sapp_dialog_wrap":n=s.UI.Dialog.init.backcancle}t&&t.call(),n&&s.UI.Dialog.hide()}},o.addEventListener(s.UI.EVENT_UP,d,!1),p.addEventListener(s.UI.EVENT_UP,d,!1),f.addEventListener(s.UI.EVENT_UP,d,!1),i.body.appendChild(r),n=this.init={box:c,content:l,confirm:p,cancle:f,fn_confirm:!1,fn_cancle:!1,backcancle:!0}}switch(t&&(a=void 0!==t.type?t.type:a,n.fn_confirm=t.confirm?t.confirm:!1,n.fn_cancle=t.cancle?t.cancle:!1),a){case this.BTN_CONFIRM:n.confirm.style.display="block",n.cancle.style.display="block";break;case this.BTN_NONE:n.confirm.style.display="none",n.cancle.style.display="none";break;default:n.confirm.style.display="block",n.cancle.style.display="none"}n.content.innerHTML=e,n.box.parentNode.style.display="",n.backcancle=!t||t.backcancle?!0:!1,(!t||t.mask)&&s.UI.Mask.show()},hide:function(){s.UI.Mask.hide();var e=this.init;e&&(e.box.parentNode.style.display="none")}},s.UI={EVENT_UP:s.Env.hasTouch?"touchend":"mouseup",EVENT_DOWN:s.Env.hasTouch?"touchstart":"mousedown",EVENT_MOVE:s.Env.hasTouch?"touchmove":"mousemove",EVENT_CANCLE:s.Env.hasTouch?"touchcancle":"mouseout",EVENT_TRANS:"webkitTransition",EVENT_TRANSTIME:"webkitTransitionDuration",EVENT_TRANSFROM:"webkitTransform",EVENT_TRANSEND:"webkitTransitionEnd",Mask:{init:null,show:function(){if(!this.init){var e=i.body.appendChild(i.createElement("div"));e.className="sapp_mask",this.init=e}this.init.style.display="block"},hide:function(){this.init&&(this.init.style.display="none")}},Dialog:d};var g=!0,v=i.querySelector("head"),m=[];if(s.Env.os&&"Android"==s.Env.os.name){var b=r.match(/Android[ |\/](\d)/),A=b&&b[1]?b[1]:!1;(!A||4>A)&&(g=!1)}else{var T=i.createElement("script");g="boolean"==typeof T.async}s.Util={extend:function(e,t){for(var n in t)e[n]=t[n]},loadJs:function(t,n){if(!t)return this;e(t,n);return this}},n.addEventListener("resize",function(){s.Env.screen={width:n.innerWidth,height:n.innerHeight}},!1),n.addEventListener("error",function(e){s.Config.G_ERROR&&s.Config.G_ERROR.call(n,e)},!1),n.sApp=s}(),function(e){e.FSM={stacks:{},version:"1.0",create:function(e,t){if(this.stacks.name)return alert("fsm:状态机名称重复:"+e),!1;if(!t)return alert("fsm:请检查配置文件"),!1;t=t||{};var n=t.states||[],i="",a="none",r=t.beforeChange||null,s=t.change||t.change,o={};return o.name=e,o.current=i,o.change=function(e){var t,o=arguments.length;if(e)a=e;else{var c=i?n.indexOf(i):0,l=n.length-1;c>-1&&l>0?(c=c>=l?0:c+1,a=n[c]):a=i}t=[i,a],o>1&&(t=t.concat(Array.prototype.slice.call(arguments,1))),r&&r.apply(this,t),this.current=a,s&&s.apply(this,t),i=a},this.stacks[e]=o,o},change:function(e){var t=Array.prototype.slice.call(arguments),n=this.stacks[e];t.shift(),n.change.apply(n,t)}}}(sApp.Plus),function(e){var t,n;t=function(e){if(!e)return!0;e=decodeURIComponent(e);var t=/(script|unescape|decodeURIComponent|decodeURI|eval|appendChild|alert|innerHTML|outerHTML|function)/gi;return!t.test(e)},n=function(e){var t=/^\?(.*)(select%20|insert%20|delete%20from%20|count\(|drop%20table|update%20truncate%20|asc\(|mid\(|char\(|xp_cmdshell|exec%20master|net%20localgroup%20administrators|\"|:|net%20user|\|%20or%20)(.*)$/gi;return t.test(e)},e.script_filter=t,e.sql_filter=n}(sApp.Util),function(e){var t={},n=function(n,i){var a,r,o,c,l;return n in t?(console.log("Timer>>>>>>>>>>>>>>>>>>>心跳机已经存在:"+n),!1):(i=i||{},o="step"in i?i.step:1,l="sleepstep"in i?i.sleepstep:!1,r="ttl"in i?i.ttl:0,c="callback"in i?i.callback:!1,a=+new Date,t[n]={name:n,id:0,counter:0,step:o,sleepstep:l,_step:1e3*o,ttl:r,start:a,callback:c},void function(t,n){var i,a,r=n[t];return r?(a=r.callback,i=new Date-r.start,void(r.ttl&&i>=1e3*r.ttl?(s(t,!0),a&&a.call(e.Timer,"timeout",r)):(r.id>0&&(r.counter++,a&&a.call(e.Timer,"progress",r)),t in n&&(r.id=setTimeout(arguments.callee,r._step,t,n))))):!1}(n,t))},i=function(e,n){if(n&&e in t){var i=t[e];for(var a in n)switch(a){case"ttl":case"_step":i[a]=n[a]?n[a]:i[a];break;case"step":case"sleepstep":if(n[a]>0){var r=n[a];1e3*i[a]==i._step&&(i._step=1e3*r),i[a]=r}break;default:i[a]=n[a]}}else console.log("Timer>>>>>>>>>>>>>>>>>>>心跳机不存在:"+e)},a=function(n){var a,r=t[n];n&&r&&(a=r.sleepstep,a&&(i(n,{_step:1e3*a}),r.callback&&r.callback.call(e.Timer,"sleep",r)))},r=function(n){var a,r=t[n];n&&r&&(a=r.step,r.sleepstep&&(i(n,{_step:1e3*a}),r.callback&&r.callback.call(e.Timer,"wakeup",r)))},s=function(n,i){var a=t[n];a&&(clearTimeout(a.id),delete t[n],i||a.callback&&a.callback.call(e.Timer,"stop",a))},o=function(){for(var e in t)s(e)};e.Timer={create:n,modify:i,sleep:a,wakeup:r,stop:function(e){s(e)},stopAll:o}}(sApp.Plus),function(W,undefined){function ajaxcall(xhr,s){return s&&xhr?(s.success&&(xhr.onload=function(e){var res=null;switch(s.dataType){case"json":res=M.JSON.parse(this.responseText);break;case"script":res=eval("("+this.responseText+")");break;case"xml":res=this.responseXML;default:res=this.response||this.responseText}s.success.call(s.context,res,this)}),s.abort&&(xhr.onabort=function(){s.abort.call(s.context,this)}),s.error&&(xhr.onerror=function(){s.error.call(s.context,this)}),s.beforeSend&&(xhr.onloadstart=function(){s.beforeSend.call(s.context,this)}),s.complete&&(xhr.onloadend=function(){s.complete.call(s.context,this)}),s.progress&&(xhr.onprogress=function(e){s.progress.call(s.context,e)}),void(s.upProgress&&(xhr.upload.onprogress=function(e){s.upProgress.call(s.context,e)}))):!1}function ba(e,t){return t=t?t:" ",e==undefined?e:M.isArray(e)?e:e.split(t)}function cds(e,t){var n=D.createElement("div");if(n.innerHTML=e,t===!0){for(var i=D.createDocumentFragment(),a=n.firstChild;a;){var r=a,a=a.nextSibling;i.appendChild(r)}return i}return AP.slice.call(n.children,0)}function cnes(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase(),e.replace(/^(webkit-|moz-|o-|ms-)/,"-$1")}function cne(e){return e.replace(/-[a-z]/gi,function(e){return e.charAt(1).toUpperCase()})}function gc(e,t){return W.getComputedStyle(e).getPropertyValue(cnes(t))||""}function hc(e,t){if("classList"in e)return e.classList.contains(t);var n=new RegExp("(\\s|^)"+t+"(\\s|$)");return n.test(e.className)}function dc(e,t){if(t)if("classList"in e)e.classList.remove(t);else if(hc(e,t)){var n=new RegExp("(\\s|^)"+t);e.className=e.className.replace(n,"")}}function ac(e,t){if("classList"in e)e.classList.add(t);else if(hc(e,t)){var n=e.className;n+=" "+t,e.className=n}}function dir(e,t,n,i){for(var a=[],r=e[t];r&&9!==r.nodeType&&(!n||1!==r.nodeType||!M(r).is(n));){if(1===r.nodeType){if(i)return r;a.push(r)}r=r[t]}return a}function diru(e,t,n,i){for(var a,r=[],s=0,o=t.length;o>s;s++)M.merge(r,dir(t[s],e,n));return a=M(uniqd(r)),i?a.filter(i):a}function dirs(e,t,n){for(var i,a=[],r=0,s=t.length;s>r;r++){var o=t[r][e];o&&a.push(o)}return i=M(uniqd(a)),n?i.filter(n):i}function gh(e){if(e.outerHTML)return e.outerHTML;var t=D.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}function id(e,t){return t||!e._hash?e._hash=UT.uniqueId():e._hash}function isS(e){return e&&e!=W&&e.sjs!=undefined}function stodf(e){for(var t=D.createDocumentFragment(),n=0;n<e.length;n++)e[n];return t}function dom(e,t,n){if(t&&e.length>0){var i=M.isFunction(t),a=M.isString(t),r=isS(t),s=a||i?null:M(t),o=[];if(e.each(function(e,c){var l=n>1?c.parentNode:null,u=D.createDocumentFragment();if(s){var p=e>0?s.clone(!0):s;p.each(function(e,t){u.appendChild(t)}),1==n&&c.insertBefore(u,c.firstChild)||2==n&&l&&(l.lastChild==c&&l.appendChild(u)||l.insertBefore(u,c.nextSibling))||3==n&&l&&l.insertBefore(u,c)||4==n&&l&&l.replaceChild(u,c)||c.appendChild(u),r&&e>0&&o.push(p)}else{var f=i?t.call(c,e,c.innerHTML):t,f=a?cds(t,!0):f;1==n&&c.insertBefore(f,c.firstChild)||2==n&&l&&(l.lastChild==c&&l.appendChild(f)||l.insertBefore(f,c.nextSibling))||3==n&&l&&l.insertBefore(f,c)||4==n&&l&&l.replaceChild(f,c)||c.appendChild(f)}}),r)for(var c=0;c<o.length;c++)t.add(o[c])}return e}function gd(e,t){var n=id(e),i=DS[n]||undefined;return t==undefined?i:i&&i[t]!=undefined?i[t]:undefined}function sd(e,t,n){var i=id(e);DS[i]||(DS[i]={}),DS[i][t]=n}function dd(e,t){var n=id(e),i=DS[n]||undefined;i&&(t?DS[n][t]&&delete DS[n][t]:delete DS[n])}function uniq(e){for(var t={},n=[],i=0;i<e.length;i++)t[e[i]]=e[i];return M.each(t,function(e,t){n.push(t)}),n}function uniqd(e){for(var t=[],n={},i=0,a=e.length;a>i;i++){var r=e[i],s=id(r);n[s]||(n[s]=!0,t.push(r))}return t}var D=W.document,_$$=W.$?W.$:undefined,wn=W.navigator,wl=W.location,ua=wn.userAgent.toLowerCase(),av=wn.appVersion,AP=Array.prototype,sh=/^[^<]*(<[\w\W]+>)[^>]*$|^#([\w-]+)$/,DS={},type=function(e){return e!=undefined?Object.prototype.toString.call(e).slice(8,-1):"undefined"},UT={noConflict:function(){_$$&&(W.$=_$$)},uniqueId:function(){var e=new Date-0,t=parseInt(1e4*Math.random());return 1e4*e+t},type:type,isArray:function(e){return"Array"===type(e)},isBoolean:function(e){return"Boolean"===type(e)},isString:function(e){return"String"===type(e)},isFunction:function(e){return"Function"===type(e)},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},isXML:function(e){var t=e.ownerDocument||e;return t.createElement("p").nodeName!==t.createElement("P").nodeName},isPlainObject:function(e){return"Object"===type(e)},isEmptyObject:function(e){var t=!1;if(UT.isPlainObject(e)){var n;for(n in e)return!1;t=!0}return t},isEmptyString:function(e){return/^\s*$/gi.test(e)},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},each:function(e,t){if(e.forEach)e.some(function(e,n,i){return t.call(i,n,e)});else for(var n in e)if(e[n]!=undefined&&t.call(e,n,e[n])===!1)break},clone:function(e){if("object"!=typeof e||null==e)return e;var t={};for(var n in e)t[n]=clone(e[n]);return t},grep:function(e,t,n){var i=new e.constructor,a=n===!0?!1:!0;return e&&t&&UT.each(e,function(n,r){t.call(e,r,n)===a&&i.push(r)}),i},merge:function(e,t){var n=[e.length,0].concat(t);return AP.splice.apply(e,n),e},map:function(e,t){if(e&&t){for(var n=[],i=0,a=e.length;a>i;i++){var r=t.call(e,e[i],i);if(null==r)return!0;UT.isArray(r)?UT.merge(n,r):n.push(r)}e=n}return e},inArray:function(e,t){if(AP.indexOf)return AP.indexOf.call(t,e);for(var n=0,i=t.length;i>n;n++)if(t[n]==e)return n;return-1},unique:uniqd,remove:function(e,t,n){var i=t;if(n===!0){i=null;for(var a in e)if(e[a]==t){i=a;break}}return i!==undefined&&null!==i&&(UT.isArray(e)&&e.splice(i,1),UT.isPlainObject(e)&&delete e[i]),e},data:function(e,t,n){return M(e).data(t,n)},JSON:{parse:function(d){return"string"==typeof d&&d?(d=UT.trim(d),W.JSON?JSON.parse(d):eval(d)):null},stringify:function(e){if(!e)return"";if(W.JSON)return W.JSON.stringify(e);var t=[],n="";switch(type(e)){case"Array":for(var i=0;i<e.length;i++)t.push(this.stringify(e[i]));n="["+t.join(",")+"]";break;case"Date":n="new Date("+e.getTime()+")";break;case"RegExp":case"Function":n=e.toString();break;case"Object":for(var i in e)e[i]="string"==typeof e[i]?'"'+e[i]+'"':"object"==typeof e[i]?this.stringify(e[i]):e[i],t.push(i+":"+e[i]);n="{"+t.join(",")+"}"}return n},parseQuery:function(e){e=decodeURIComponent(e);for(var t={},n=e.split("&"),i=0,a=n.length;a>i;i++)if(n[i].indexOf("=")>-1){var r=n[i].split("=");if(!/^\s*$/gi.test(t[0])){var s=r[1].trim();("null"==s||"undefined"==s)&&(s=""),s&&/(\[|\]|{|})/gi.test(s)&&(s=UT.JSON.parse(s)),t[r[0]]=s}}return t},toQuery:function(e){var t,n,i=[];if("object"==typeof e)for(t in e){switch(n=e[t],typeof n){case"object":n=UT.JSON.stringify(n)}i[i.length]=t+"="+encodeURIComponent(n)}return i.join("&")},count:function(e){var t=0;for(var n in e)t++;return t}},raf:function(e,t){function n(){if(2>a){if(r++,s[0]=r,t.apply(o,s)===!1)return;c=setTimeout(n,i)}}var i=Math.ceil(1e3/e),a=0,r=0,s=AP.slice.call(arguments,2),o=this,c=0;s.unshift(r),this.start=function(){0==a&&(a=1,c=setTimeout(n,i))},this.pause=function(){1==a&&(a=2)},this.resume=function(){2==a&&(a=1,c=setTimeout(n,i))},this.stop=function(){a=0,W.clearTimeout(c)}}},M=function(e,t){return new M.fn.init(e,t)};M.fn=M.prototype={constructor:M,selector:"",sjs:"sjs",length:0,init:function(e,t){if(W==this)return new M(e,t);if(this.context=t?t:D,e){if(isS(e))return e;if(UT.isFunction(e)&&(/complete|loaded|interactive/.test(D.readyState)?e.call(W,M):D.addEventListener("DOMContentLoaded",function(){e.call(W,M)},!1)),(e.nodeType||e==W)&&(this[0]=e,this.length=1,id(e)),UT.isArray(e)&&UT.merge(this,e),"string"==typeof e){var n;if((n=sh.exec(e))&&n[1])return M(cds(n[1]));n=this.context.querySelectorAll(e),this.length=n.length;for(var i=0,a=this.length;a>i;i++)id(n[i]),this[i]=n[i];this.selector=e}}},size:function(){return this.length},get:function(e){return e==undefined?this:this[e]},index:function(){var e=this[0],t=e.parentNode.children;return M.inArray(e,t)}},M.fn.init.prototype=M.fn,M.extend=M.fn.extend=function(){var e,t,n,i=arguments[0]||{},a=arguments.length,r=!1,s=0;for("boolean"==typeof i&&(s++,r=!0,i=arguments[s]||{}),"object"!=typeof i&&(i={}),a==s+1&&(i=this);a>s;s++)if(null!=(e=arguments[s]))for(var o in e)t=i[o],n=e[o],i!=n&&(r&&n&&(UT.isArray(n)||UT.isPlainObject(n))?(UT.isPlainObject(n)&&(t=t&&UT.isArray(t)?t:{}),UT.isArray(n)&&(t=t&&UT.isPlainObject(t)?t:[]),i[o]=M.extend(r,t,n)):i[o]=n);return i};var DOMS={data:function(e,t){return this.length>0?t?this.each(function(n,i){sd(i,e,t)}):gd(this[0],e):this},removeData:function(e){return M.isString(e)&&!M.isEmptyString(e)&&(e=e.split(" ")),this.each(function(t,n){M.isArray(e)?M.each(e,function(e,t){dd(n,t)}):dd(n)})},outerHTML:function(){return gh(this[0])},html:function(e){if(0==this.length)return this;if(e==undefined)return this[0].innerHTML;var t=M.isString(e)?e:null,n=M.isFunction(e);return this.each(function(i){return n&&(t=e.call(this,i,this.innerHTML),!t)?!0:void(this.innerHTML=t)})},htmls:function(){var e="";return this.each(function(t,n){e+=gh(n)}),e},val:function(e){return 0==this.length?undefined:e==undefined?this[0].value||"":this.each(function(t,n){if(M.isFunction(e)){var i=e.call(n,t,n.value);i!=undefined&&(n.value=i)}else n.value=e})},text:function(e){if(e)return this.each(function(t,n){if(M.isFunction(e)){var i=e.call(n,t,n.textContent);i!=undefined&&(n.textContent=i)}else n.textContent=e});var t="";return this.each(function(e,n){t+=n.textContent}),t},css:function(e,t){if(e==undefined)return undefined;if(0==this.length)return this;if(M.isString(e)){var n=M.isFunction(t);return t==undefined?gc(this[0],e):this.each(function(i,a){var r=n?t.call(this,i,gc(this,e)):t;r=/height|width|left|right|top|bottom|size/i.test(e)&&M.isNumeric(r)?r+"px":r,e=cne(e),a.style[e]=r})}if(M.isPlainObject(e)){var i=this;M.each(e,function(e,t){i.css(e,t)})}return this},save:function(){return this.each(function(e,t){var n=gd(t,"cstack")||[];n.push({ct:t.style.cssText,cn:t.className}),sd(t,"cstack",n)})},restore:function(){return this.each(function(e,t){var n=gd(t,"cstack")||[];if(n.length>0){var i=n.pop();t.style.cssText=i.ct,t.className=i.cn,sd(t,"cstack",n)}})},attr:function(e,t){if(e)if(t)this.each(M.isFunction(t)?function(n,i){var a=i.getAttribute(e),r=t.call(i,n,a);r!=undefined&&i.setAttribute(e,r)}:function(n,i){i.setAttribute(e,t)});else{if(M.isString(e))return this[0].getAttribute(e);M.isPlainObject(e)&&this.each(function(t,n){M.each(e,function(e,t){n.setAttribute(e,t)})})}return this},removeAttr:function(e){return this.each(function(t,n){n.removeAttribute(e)})},getBox:function(){if("getBoundingClientRect"in D.body){var e=this[0].getBoundingClientRect();return{left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:e.right-e.left,height:e.bottom-e.top}}for(var t=D.documentElement.scrollTop,n=D.documentElement.scrollLeft,i=this[0].offsetLeft,a=this[0].offsetTop,r=this[0].offsetParent;null!=r;)i+=r.offsetLeft,a+=r.offsetTop,r=r.offsetParent;return{left:i-n,right:i+this[0].offsetWidth-n,top:a-t,bottom:a+this[0].offsetHeight-t,width:this[0].offsetWidth,height:this[0].offsetHeight}},inBox:function(e,t){var n=!1,e=parseInt(e),t=parseInt(t);return this.each(function(){var i=M(this).getBox();return n=i.left<=e&&i.right>=e&&i.top<=t&&i.bottom>=t,1==n?!1:void 0}),n},each:function(e,t){if(t===!0){for(var n=this.length-1;n>=0;n--)if(e.call(this[n],n,this[n])===!1)return this}else for(var n=0;n<this.length;n++)if(e.call(this[n],n,this[n])===!1)return this;return this},addClass:function(e){if(e==undefined||0==this.length)return this;var t=M.isFunction(e)?null:ba(e);return this.each(function(n,i){var a=M.trim(i.className);if(null==t){var r=e.call(i,n,a);r&&ac(i,r)}else M.each(t,function(e,t){a=M.trim(i.className),t&&ac(i,t)})})},removeClass:function(e){if(0==this.length)return this;var t=M.isFunction(e)?null:ba(e);return this.each(function(n,i){if(e==undefined)return i.className="";if(null==t){var a=e.call(i,n,i.className);a&&dc(i,a)}else M.each(t,function(e,t){dc(i,t)})})},toggleClass:function(e){if(e==undefined||0==this.length)return this;var t=M.isFunction(e)?null:ba(e);return this.each(function(n,i){var a=M.trim(i.className),r="";null==t?(r=e.call(i,n,a))&&(hc(i,r)?dc(i,r):ac(i,r)):M.each(t,function(e,t){hc(i,t)?dc(i,t):ac(i,t)})})},eq:function(e){return e=0>e?this.length+e:e,M(this.get(e))},hasClass:function(e){var t=!1;return this.each(function(n,i){return!(t=hc(i,e))}),t},filter:function(e,t){for(var n=M.isFunction(e),i=n?null:M(e),a=this.length-1;a>=0;a--)(n&&(!t&&!e.call(this[0],a)||t&&e.call(this[0],a))||i&&(!t&&M.inArray(this[a],i)<0||t&&M.inArray(this[a],i)>-1))&&AP.splice.call(this,a,1);return this},not:function(e){return this.filter(e,!0)},slice:function(e,t){for(var n=(e==undefined?0:0>e?this.length+e:e,t==undefined?this.length:t,this.length-1);n>=0;n--)n>=t&&e>=n&&AP.splice.call(this,n,1);return this},is:function(e){return this.filter(e).length>0},has:function(e){var t=this;return M.isString(e)?this.filter(function(n){return M(e,t[n]).length>0}):(e.sjs&&(e=e[0]),this.filter(function(n){var i=M("*",t[n]).get();return M.inArray(e,i)>-1}))},find:function(e,t){var n=[];return this.each(function(i,a){for(var r=a.querySelectorAll(e),s=0;s<r.length;s++)(!t||r[s].parentNode==a)&&n.push(r[s])}),M(uniqd(n))},children:function(e){var t=e?e:"*";return this.find(t,!0)},parentsUntil:function(e,t){return diru("parentNode",this,e,t)},parent:function(e){return dirs("parentNode",this,e)},parents:function(e){return this.parentsUntil(null,e)},closest:function(e){for(var t,n=[],i=this.length-1;i>=0;i--){var a,r=this[i];M(r).is(e)?n.push(r):(a=dir(this[i],"parentNode",null,!0),a.nodeType&&n.push(a))}return t=M(uniqd(n)),e?t.filter(e):t},nextUntil:function(e,t){return diru("nextElementSibling",this,e,t)},next:function(e){return dirs("nextElementSibling",this,e)},nextAll:function(e){return this.nextUntil(null,e)},prevUntil:function(e,t){return diru("previousElementSibling",this,e,t)},prev:function(e){return dirs("previousElementSibling",this,e)},prevAll:function(e){return this.prevUntil(null,e)},siblings:function(e){return this.nextAll(e).add(this.prevAll(e))},add:function(e){var t=this;return M(e).each(function(e,n){AP.push.call(t,n)}),M(uniqd(this))},append:function(e){return dom(this,e)},appendTo:function(e){return dom(M(e),this),this},prepend:function(e){return dom(this,e,1)},prependTo:function(e){return dom(M(e),this,1),this},after:function(e){return dom(this,e,2)},before:function(e){return dom(this,e,3)},insertBefore:function(e){return dom(M(e),this,3),this},insertAfter:function(e){return dom(M(e),this,2),this},replaceWith:function(e){return dom(this,e,4)},replaceAll:function(e){return dom(M(e),this,4),this},clone:function(){var e=this,t=M(this.htmls()),n=ES.data;return t.each(function(t,i){var a=M(i);for(var r in n){var s=id(e[t]),o=n[r]?n[r][s]:null;/swipe|tap/i.test(r)?o&&(n[r][id(i)]=o):o&&o.forEach(function(e){a.on(r,e.data,e.fn)})}})},empty:function(){return this.html("")},remove:function(e){return this.each(function(t,n){var i=M(n),a=ES.data;if((!e||i.is(e))&&n.parentNode){for(var r in a)a[r][id(n)]&&i.off(r);n.parentNode.removeChild(n)}})}},AJAXS={ajax:function(e,t){var n={async:!0,cache:!1,type:"GET",dataType:"html",mime:"text/html",data:{},charset:"utf-8",contentType:"application/x-www-form-urlencoded",context:t,progress:null,upProgress:null,beforeSend:null,success:null,abort:null,error:null,complete:null};if(!M.isString(e))return!1;var i,a=new Date-0,r=null;if(n=t?M.extend(n,t):n,i=M.JSON.toQuery(n.data),e+=e.indexOf("?")>-1?"&":"?",e+=n.cache?"":"_t="+a,"get"==n.type.toLowerCase()&&(e+="&"+i,i=null,"jsonp"==n.dataType)){var s="sjs_"+sjs.uniqueId(),o="callback="+s;/callback=\?/i.test(e)?e=e.replace(/callback=\?/i,o):e+="&callback="+s,W[s]=function(e){n.success&&n.success.call(null,e),delete W[s]};var t=D.createElement("script");return t.type="text/javascript",t.async=n.async,t.src=e,D.body.appendChild(t),{abort:function(){n.success=null}}}return r=new XMLHttpRequest,r?(("blod"==n.dataType||"arraybuffer"==n.dataType)&&(r.responseType=n.dataType),ajaxcall(r,n),r.open(n.type,e,n.async),r.setRequestHeader("Accept",n.mime),r.setRequestHeader("Content-Type",n.contentType+"; charset="+n.charset),r.send(i)):M.isFunction(n.error)&&n.error("ajax不被支持！"),r},ajaxForm:function(e,t){M(e).each(function(e,n){if("form"==n.nodeName.toLowerCase()){var i=new FormData(n),a=new XMLHttpRequest;if(t&&t.data)for(var r in t.data)i.append(r,t.data[r]);ajaxcall(a,t),a.open(n.method,n.action),a.send(i)}})},get:function(e,t,n,i){if(!e)return!1;var a=t,r=n,s=i;return M.isFunction(a)&&(s=r,r=a,a=null),M.ajax(e,{success:r,data:a,dataType:s||"html"})},getJSON:function(e,t,n){if(!e)return!1;var i=t,a=n,r=/callback=?/i.test(e)?"jsonp":"json";return M.isFunction(i)&&(a=i,i=null),M.ajax(e,{success:a,data:i,dataType:r})},getScript:function(e,t){if(!e)return!1;var n=document.createElement("script");n.async=!0,n.src=e,n.onload=t,document.body.appendChild(n)},post:function(e,t,n,i){if(!e)return!1;var a=t,r=n,s=i;return M.isFunction(a)&&(s=r,r=a,a=null),M.ajax(e,{type:"post",success:r,data:a,dataType:s})}},gwe=function(e){try{if(W.external&&W.external[e]){var t=W.external[e];return UT.isFunction(t)?t():t}}catch(n){}return""},bs={isAndroid:/Android/i.test(ua),isIPad:/ipad/i.test(ua),isIPhone:/iphone os/i.test(ua),isWMobile:/Windows mobile/i.test(ua),isMobile:/mobile|wap/.test(ua),isIECore:/Trident/i.test(ua),isWebkitCore:/webkit/i.test(ua),isGeckosCore:/Gecko/i.test(ua)&&!/khtml/i.test(ua),se360:function(){var e=/360se/i.test(ua)||/360ee/i.test(ua);return e?e:/360se/i.test(gwe("twGetRunPath"))}(),sougou:/MetaSr/i.test(ua),qq:/QQBrowser/i.test(ua),maxthon:function(){return gwe("max_version").substr(0,1)>0}(),opera:W.opera?!0:!1,firefox:/Firefox/i.test(ua),uc:/ucweb/i.test(ua),liebao:/LBBROWSER/i.test(ua),baidu:/BIDUBrowser/i.test(ua)||"baidubrowser"==gwe("GetVersion")},nogc=!(bs.sougou||bs.maxthon||bs.qq||bs.uc||bs.liebao||bs.baidu||bs.se360);bs.ie=bs.isIECore&&nogc,bs.chrome=/Chrome/i.test(ua)&&W.chrome&&nogc,bs.safari=/Safari/.test(ua)&&!bs.chrome&&nogc,bs.prefix=bs.isWebkitCore?"webkit":bs.isGeckosCore?"Moz":bs.opera?"O":bs.isIECore?"ms":"",bs.hasTouch="ontouchstart"in W;var SET={vmousecancel:bs.hasTouch?"touchcancel":"mouseout",vmousedown:bs.hasTouch?"touchstart":"mousedown",vmousemove:bs.hasTouch?"touchmove":"mousemove",vmouseup:bs.hasTouch?"touchend":"mouseup",vmouseout:bs.hasTouch?"touchleave":"mouseout"},tap,sx,sy,px,py,target,lto=800,lt=null,st,gtapdown=function(e){tap=!0;var t=e.touches?e.touches[0]:e;sx=px=t.pageX,sy=py=t.pageY,st=new Date-0,lt=setInterval(function(){lt&&new Date-st>lto&&(clearInterval(lt),lt=null,e.stopPropagation=function(){this._sbunble=!0},ES.touchs.forEach(function(t){!e._sbunble&&M.Event.trigger.call(t,e,"longTap")}))},200),M(document).on("vmousemove",gtapmove)},gtapmove=function(e){if(lt&&(clearInterval(lt),lt=null),tap){var t=e.touches?e.touches[0]:e,n=t.pageX,i=t.pageY,a=Math.abs(n-px),r=Math.abs(i-py);if(a<ES.swipeStep&&r<ES.swipeStep)return;target=a>r?n>sx?"right":"left":i>sy?"down":"up",px=n,py=i,ES.touchs.forEach(function(t){e.movement={startx:sx,starty:sy,x:n,y:i,mx:a,my:r,target:target},M.Event.trigger.call(t,e,"swipe")})}},gtapup=function(e){e.stopPropagation=function(){this._sbunble=!0},lt?(clearInterval(lt),lt=null,ES.touchs.forEach(function(t){!e._sbunble&&M.Event.trigger.call(t,e,"tap")})):target&&(e.movement={startx:sx,starty:sy,x:px,y:py,target:target},ES.touchs.forEach(function(t){!e._sbunble&&M.Event.trigger.call(t,e,"swipeEnd")})),ES.touchs=[],tap=!1,M(document).off("vmousemove",gtapmove)},initTouch=function(){M(document).on("vmousedown",gtapdown).on("vmouseup",gtapup)},tapdown=function(){ES.touchs.push(this)},tapout=function(e){tap&&0==M(e.relatedTarget).parents(this).length&&(e.movement={startx:sx,starty:sy,x:px,y:py,target:target},M.Event.trigger.call(this,e,"swipeEnd"),UT.remove(ES.touchs,this))},ES={swipeStep:2,swipeCheckOut:!1,touchs:null,lives:{},data:{},trigger:function(e,t,n){t=t?t:e.type;var i=n?n:id(this),a=n&&n.nodeType?n:this,r=n?ES.lives:ES.data,s=r[t]?r[t][i]:null;if(s)for(var o=0,c=s.length;c>o;o++){var l=s[o];e.firecnt=++l.cnt,e.data=l.data,l.fn.call(this,e)===!1&&(ES.remove(t,a,l.fn),o--,c--)}},live:function(e){var t=e.type,n=e.target,i=M(n),a=i.add(i.parentsUntil(document.body)),r=ES.lives[t]||[],s={};e.stopPropagation=function(){this._sbunble=!0};for(var o in r)s[o]=M(o);a.each(function(t,n){return e._sbunble?!1:void M.each(s,function(t,i){M(n).is(i)&&ES.trigger.call(n,e,null,t)})})},add:function(e,t,n,i){var a=t,r=ES.lives;if("string"!=typeof t)if(a=id(t),r=ES.data,/swipe|tap/i.test(e)){null==ES.touchs&&(ES.touchs=[],initTouch());var s=M(t);s.data("tapinit")||(s.on("vmousedown",tapdown).data("tapinit",!0),ES.swipeCheckOut&&s.on("vmouseout",tapout))}else t.addEventListener(e,ES.trigger,!1);else r[e]||document.addEventListener(e,ES.live,!1);!r[e]&&(r[e]={}),!r[e][a]&&(r[e][a]=[]),r[e][a].push({cnt:0,data:n,fn:i})},remove:function(e,t,n,i){if(e&&t){var a=i?t:id(t),r=i?this.lives:this.data;if(n==undefined)r[e]&&r[e][a]&&delete r[e][a];else if(r[e]&&r[e][a]){for(var s=r[e][a],o=0,c=s.length;c>o;o++)s[o].fn==n&&(r[e][a].splice(o,1),o--,c--);0==r[e][a].length&&delete r[e][a]}if(r[e]&&0==M.JSON.count(r[e])&&delete r[e],i){if(!r[e])return void document.removeEventListener(e,this.live,!1)}else/swipe|tap/i.test(e)?r.tap||r.longTap||r.swipe||M(t).off("vmousedown",tapdown).off("vmouseout",tapout).data("tapinit",!1):r[e]&&r[e][a]||t.removeEventListener(e,this.trigger,!1)}}};UT.each(["live","die","bind","unbind","on","off","delegate","undelegate","one","trigger"],function(e,t){M.fn[t]=function(e,n,i){if(!e)return this;n&&!i&&(i=n)&&(n=undefined);for(var a=e.split(" "),r=this.selector,s=0,o=a.length;o>s;s++){var c=a[s];switch(c=SET[c]?SET[c]:c,t){case"live":if(!r)return this;ES.add(c,r,n,i);break;case"die":if(!r)return this;ES.remove(c,r,i,!0);break;default:for(var s=0,o=this.length;o>s;s++)switch(r=this[s],t){case"bind":case"on":case"delegate":if(!i)return this;ES.add(c,r,n,i);break;case"unbind":case"off":case"undelegate":ES.remove(c,r,i);break;case"one":ES.add(c,r,n,function(){return i.call(this,arguments[0]),!1});break;case"trigger":var l=document.createEvent("Events");l.initEvent(c,!0,!0),r.dispatchEvent(l)}}}return this}}),M.Event=ES;var atimer=null,_AS={},_apre=bs.prefix?bs.prefix+"Transition":"transition",ntdelay=_apre+"Delay",ntp=_apre+"Property",ntd=_apre+"Duration",nttf=_apre+"TimingFunction",speed={slow:1e3,normal:600,fast:300},gfx=function(e){var t=id(e),n=_AS[t];if(n==undefined){var i=e.style,a={};return a[ntp]=i[ntp],a[ntd]=i[ntd],a[nttf]=i[nttf],a[ntdelay]=i[ntdelay],{dom:e,oldt:a,t:0,stacks:[]}}return _AS[t]},ANIMS={isAnimate:function(){var e=!1;return this.each(function(t,n){return _AS[id(n)]?(e=!0,!1):void 0}),e},delay:function(e){return M.isNumeric(e)&&this.each(function(t,n){var i=gfx(n);i.stacks.push({dur:e}),_AS[id(n)]=i}),this._run(),this},stop:function(e){return e=e===!1?!1:!0,this.each(function(t,n){var i=id(n);if(!_AS[i])return!1;if(e)for(var a=n.style,r=a.length-1;r>=0;r--)n.style[a[r]]=gc(n,a[r]);else{for(var s=_AS[i],o=s?s.stacks.length:0,c={},r=0;o>r;r++)s.stacks[r].tran&&M.extend(c,s.stacks[r].tran);M(n).css(c)}M(n).css(_apre,""),_AS[i].stacks=[]}),this},animate:function(e,t,n,i){if(!M.isPlainObject(e)||M.isEmptyObject(e))return this;var a=type(t),r=type(n),s="normal",o="linear",c=null,l=arguments.length;if("Object"==a)s=t.speed?t.speed:s,o=t.easing?t.easing:o,c=t.callback?t.callback:c;else{var u=/^(ease|cubic-bezier|linear).*/;switch(l){case 2:"Function"==a?c=t:"String"==a?u.test(t)?o=t:s=t:s=t;
break;case 3:"Function"==r?(c=n,"String"==a&&u.test(t)?o=t:s=t):(s=t,o=n);break;case 4:s=t,o=n,c=i}}return s=UT.isString(s)?speed[s]||speed.normal:s,o="swing"==o?"ease-in-out":o,this.each(function(t,n){var i=gfx(n),a={};a[ntp]="all",a[ntd]=s/1e3+"s",a[nttf]=o,M.extend(a,e),i.stacks.push({dur:s,tran:a,fn:c}),_AS[id(n)]=i}),this._run(),this},_run:function(){null==atimer&&(atimer=new UT.raf(20,function(){var e=0;M.each(_AS,function(t,n){if(0==n.stacks.length)M(n.dom).css(n.oldt),delete _AS[t];else{var i=n.stacks[0];0==n.t?(n.t=new Date-0,i.tran!=undefined&&M(n.dom).css(i.tran)):new Date-n.t>=i.dur&&(i.fn&&i.fn.call(n.dom),n.t=0,_AS[t].stacks.shift())}e++}),0==e&&(this.stop(),atimer=null)}),atimer&&atimer.start())}},animExt=function(e,t,n,i,a){return e.isAnimate()?!1:(e.each(function(r,s){var o=M(s),c=o.data("sjs_aext"),l=o.css("display"),u={overflow:"hidden"},p={},f="none";switch(c||(o.save(),o.css({display:"block"}),c=o.getBox(),c.dis="none"==l?"block":l,o.restore(),o.data("sjs_aext",c)),t="slideToggle"==t?"none"==l?"slideDown":"slideUp":"fadeToggle"==t?"none"==l?"fadeIn":"fadeOut":"spreadToggle"==t?"none"==l?"spreadRight":"spreadLeft":t){case"slideUp":u.height=c.height,p.height=0;break;case"slideDown":if("none"!=l)return e;u.height=0,u.display=f=c.dis,p.height=c.height;break;case"spreadLeft":u.width=c.width,p.width=0;break;case"spreadRight":if("none"!=l)return e;u.width=0,u.display=f=c.dis,p.width=c.width;break;case"fadeIn":if("none"!=l)return e;u.opacity=0,u.display=f=c.dis,p.opacity=1;break;case"fadeOut":u.opacity=1,p.opacity=0}o.save(),o.css(u).animate(p,n,i,function(){o.restore(),o.css("display",f),a&&a.call(s)})}),e)};UT.each(["slideDown","slideUp","slideToggle","spreadRight","spreadLeft","spreadToggle","fadeIn","fadeOut","fadeToggle"],function(e,t){M.fn[t]=function(e,n,i){return animExt(this,t,e,n,i)}});var SED=M.extend({},UT,{browser:bs},AJAXS),ED=M.extend(DOMS,ANIMS);M.extend(SED),M.fn.extend(ED),W.sjs=W.$=M}(window),function(e,t,n){var i,a,r=e.Plus.Timer,n=e.Plus.Storage||localStorage;i={set:function(e,t,i){var a=new Date-0,r={st:a,val:t};"undefined"!=typeof i&&(r.ttl=i);try{n.setItem(e,JSON.stringify(r))}catch(s){sApp.log("Cache缓存空间上限，清空缓存，重新存取"),n.clear(),n.setItem(e,JSON.stringify(r))}},get:function(e,t,i){var a=n.getItem(e);if(a){if(a=JSON.parse(a),void 0!==i?a.ttl=i:i=a.ttl,t)return a.val;if(i){var r=(new Date-a.st)/1e3;if(r>i)return n.removeItem(e),!1}return a.val}return!1},clear:function(){n.clear()}},a={stacks:{},getData:function(n){var a,s,o,c,l,u,p,f,d;return a=n.rid,s=n.param,o=void 0===n.ttl?e.Config.G_CACHETIMEOUT:n.ttl,c=n.callback,loading=n.loading===!1?!1:!0,a?(f=this.stacks,p=f[a],d=navigator.onLine?!1:!0,u=sApp.Page.curPage+"#"+a+"#"+encodeURIComponent(JSON.stringify(s)),(d||!n.refresh&&o!==!1)&&(l=i.get(u,d,o)),l?(sApp.log("sApp>>>Dao页面存在缓存，取缓存..."+a,s),c&&c.call(null,l,a,s),!1):(sApp.log("Dao缓存不存在，或者已经过期，请求网络:"+a,s),void(navigator.onLine?(p&&(sApp.log("Dao %c取消该渲染单元的上次请求:"+a,"color:red"),p.abort()),r.create(a,{ttl:e.Config.G_AJAXTIMEOUT,callback:function(e,t){switch(e){case"timeout":sApp.UI.Dialog.show(sApp.Langs.ajaxtimeout),sApp.log("Dao数据请求超时:"+a),p.abort();break;case"progress":sApp.log("Timer>定时器工作中:"+a+"...."+t.counter+"/"+t.ttl)}}}),p=t.ajax(n.url,{data:s,dataType:"json",success:function(e){r.stop(a),sApp.log("Dao请求网络数据成功:"+a,e),o!==!1&&(sApp.log("Dao存入缓存:"+u+";过期时间："+o),sApp.Cache.set(u,e,o)),c&&c.call(null,e,a,s)},error:function(e){sApp.UI.Dialog.show(sApp.Langs.ajaxtimeout),sApp.throwError("Dao请求网络数据失败...",e)}}),f[a]=p):e.UI.Dialog.show(e.Langs.offline)))):(sApp.throwError("Dao %c缺少必要参数：渲染单元id"),!1)}},e.Dao=a,e.Cache=i}(sApp,$,localStorage),function(e,t){function n(e,t,n){b++;var i=p.getElementById(e);i||(i=p.appendChild(p.createElement("section"))),i.className="sapp_page",this.dom=i,this.config=t||{},this.unique=n||!1,this.name=e}function i(e,t,n){u.setTimeout(function(){e.style[sApp.UI.EVENT_TRANSTIME]="0.5s",e.style[t]=n},0)}function a(e){e?(c=e.parentNode.clientWidth,l=e.parentNode.clientHeight):(c=u.innerWidth,l=u.innerHeight)}function r(e,t){return t=t?"#"+JSON.stringify(t):"",encodeURIComponent(e+t)}function s(){var e=decodeURIComponent(location.hash.replace("#",""));return e=e.split("#"),pageid=e[0]||"",pageid||(pageid=sApp.Config.G_MAIN||"index"),param=e[1]?JSON.parse(e[1]):"",{pid:pageid,param:param}}function o(e){sApp.Page.curPage!=e.name&&(sApp.Plus.Timer.stopAll(),curpage=sApp.Page.getPage(sApp.Page.curPage),curpage&&curpage.hide(),e.show())}var c,l,u=window,p=document,f=null,d=50,h=49,g=null,v={},m=null,b=0;n.prototype={show:function(){var e,n,r=this.dom,s=t(r),o=1;switch(f.curPage=this.name,m=this,a(r),s.css("opacity",1),s.css(sApp.UI.EVENT_TRANSTIME,"0s"),s.css(sApp.UI.EVENT_TRANSFROM,"translate(0px,0px) scale(1,1)"),g){case f.TRANS_NONE:break;case f.TRANS_FADE:e="opacity",n=1,s.css(e,0);break;case f.TRANS_CENTER:e=sApp.UI.EVENT_TRANSFROM,n="scale(1,1)",s.css(e,"translate(0px,0px) scale(0.5,0.5)");break;case f.TRANS_SLIDE:e=sApp.UI.EVENT_TRANSFROM,n="translate(0px,0px)",s.css(e,"translate(0px,"+o*l+"px)");break;case f.TRANS_SPREAD:e=sApp.UI.EVENT_TRANSFROM,n="translate(0px,0px)",s.css(e,"translate(0px,"+o*c+"px)");break;case f.TRANS_WIN8:e=sApp.UI.EVENT_TRANSFROM,n="translate(0px,0px)",s.css(e,"translate("+o*c/10+"px,0px)")}r.style["z-index"]=d,r.style.display="block",i(r,e,n)},hide:function(){var e=this.dom,n=1;switch(a(e),e.style["z-index"]=h,g){case f.TRANS_NONE:e.style.display="none";break;case f.TRANS_FADE:i(e,"opacity",0);break;case f.TRANS_CENTER:i(e,sApp.UI.EVENT_TRANSFROM,"scale(0.5,0.5)");break;case f.TRANS_SLIDE:i(e,sApp.UI.EVENT_TRANSFROM,"translate(0px,"+-l*n+"px)");break;case f.TRANS_SPREAD:i(e,sApp.UI.EVENT_TRANSFROM,"translate("+-c*n+"px,0px)");break;case f.TRANS_WIN8:i(e,sApp.UI.EVENT_TRANSFROM,"translate("+-c/10*n+"px,0px)")}t(e).one(sApp.UI.EVENT_TRANSEND,function(){sApp.Page.curPage!=this.id&&(this.style.display="none")},!1)}},f={TRANS_NONE:0,TRANS_FADE:1,TRANS_CENTER:2,TRANS_SPREAD:3,TRANS_SLIDE:4,TRANS_WIN8:5,DEAFULT_TRANS:2,setTrans:function(e){var t=parseInt(e);isNaN(t)||(g=t)},getPage:function(e){return v[e]},curPage:null,_isback:null,show:function(e,t){if(this._isback=!1,e){var n=r(e,t);"#"+n==window.location.hash?sApp.Plus.FSM.change(e,"pageinit",t):location.hash=n}else{var i=s();sApp.Plus.FSM.change(i.pid,"pageinit",i.param)}},render:function(e,t,n){sApp.Plus.FSM.change(sApp.Page.curPage,"rendinit",e,t,n)},create:function(e,i){if(!e)return!1;var a=p.getElementById(e);if(!a)return!1;var r=new n(e,i);v[r.name]=r;var s=sApp.Plus.FSM.create(e,{states:["pageinit","rendinit","renddatainit","rending","rendok","pageok"],change:function(e,n){var i,a,r,s,c=this.name,l=sApp.Page.getPage(c);switch(n){case"pageinit":if(l){if(a=l.config,a.hashparam=arguments[2],null==sApp.Page._isback)return sApp.log("		>是回退或者前进操作，不再绘制"),o(l),!1;if(sApp.log("		>非回退或者前进操作,清空渲染区域?"),sApp.Page._isback=null,o(l),a.units)for(var r in a.units){var f=sApp.Plus.Scroll.stacks[r];f&&f.scrollTo(0,0),sApp.Plus.FSM.change(c,"rendinit",r,null,!0)}a.scroll&&sApp.Plus.Scroll&&sApp.Plus.Scroll.init(c),a.lazyload?sApp.Plus.slazyload.start(!0,!0):sApp.Plus.slazyload.stop(!0,!0)}else sApp.UI.Dialog.show(sApp.Langs.nopage+":"+c);break;case"rendinit":var d,h;if(r=arguments[2],i=arguments[3],a=l.config,s=a.units[r],d=p.getElementById(r),d||(d=p.createElement("div"),d.id=r,l.dom.appendChild(d)),s._cover="undefined"==typeof arguments[4]?s.cover===!1?!1:!0:arguments[4],h=t.extend({},s.param),a.hashparam)for(var g in h)"undefined"!=typeof a.hashparam[g]&&(h[g]=a.hashparam[g]);if(i&&t.extend(h,i),i=h,!d)return sApp.throwError("Page %c渲染单元的dom不存在:"+r),!1;if(!s){sApp.throwError("Page %c当前页不存在该渲染单元:"+r);break}sApp.Plus.FSM.change(c,"renddatainit",r,i);break;case"renddatainit":var v=(sApp.Config.G_CACHETIMEOUT,arguments[4]||!1);if(r=arguments[2],i=arguments[3],s=l.config.units[r],!s.data&&s.dataurl)sApp.UI.Dialog.show(sApp.Langs.loading,{type:sApp.UI.Dialog.BTN_NONE}),sApp.Dao.getData({refresh:v,rid:r,url:s.dataurl,param:i,ttl:s.timeout,callback:function(e,t){sApp.UI.Dialog.hide(),e?sApp.Plus.FSM.change(sApp.Page.curPage,"rending",t,e):(sApp.UI.Dialog.show(sApp.Langs.data_error),sApp.throwError("Page%c 渲染区域接口返回数据错误:"+t))}});else{var m=s.data?s.data:null;sApp.log("该渲染单元没有发现任何数据:"+r),sApp.Plus.FSM.change(sApp.Page.curPage,"rending",r,m)}break;case"rending":var m,b,A,T,y;if(r=arguments[2],m=arguments[3],s=l.config.units[r],A=s.tpl||r+"_tpl",s.scroll&&sApp.Plus.Scroll&&!sApp.Plus.Scroll.stacks[r]&&(s.scroll.onending=function(e){var t=s.scroll.pagekey,n=s.param[t]||1;"refresh"==e?(s.param[t]=1,s._cover=!0,sApp.Plus.FSM.change(c,"renddatainit",r,s.param,!0)):"more"==e&&(s.param[t]=n+1,s._cover=!1,sApp.Plus.FSM.change(c,"renddatainit",r,s.param))},sApp.Plus.Scroll.init(r,s.scroll)),b=sApp.Plus.Scroll&&sApp.Plus.Scroll.stacks[r],T=b?b.dom_more:t("#"+r),!T||!T.length||!A){sApp.throwError("Page %c渲染单元的模板不存在:"+A);break}y=template.render(A,m),s._cover?T.html(y):T.append(y),sApp.Plus.FSM.change(c,"rendok",r);break;case"rendok":var r=arguments[2],E="__"+r;u[E]&&u[E].call(null,l.config),this.rendernow++,sApp.Plus.Scroll&&sApp.Plus.Scroll.stacks[r]&&sApp.Plus.Scroll.stacks[r].refresh(),this.rendernow==this.rendercount&&sApp.Plus.FSM.change(c,"pageok");break;case"pageok":var E="__"+c;u[E]&&u[E].call(null,c,l.config)}}});s.rendercount=0;for(var c in i.units)s.rendercount++;return s.rendernow=0,r},back:function(){history.go(-1)}},g=f.DEAFULT_TRANS,e.Page=f,u.addEventListener("hashchange",function(){var e=s();sApp.Plus.FSM.change(e.pid,"pageinit",e.param)},!1)}(sApp,$);